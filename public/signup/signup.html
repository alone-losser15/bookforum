<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sign Up Page</title>
    <link rel="stylesheet" href="/signup/signUp.css" type="text/css">
</head>
<body>
    <div class="background"></div>

    <div class="main">
        <div class="container">
            <form class="signup-details" action="/auth/signup" method="post">
               
                <img src="https://firebasestorage.googleapis.com/v0/b/bookreviewforum.appspot.com/o/static_image_files%2Fsite-logo-transparent.png?alt=media&token=9c1f27a1-7abb-4035-a45d-ac5b936fc767" alt="Site Logo" id="site-logo">
                <!-- <h1 id="sign-up-text">Sign Up</h1> -->
                <div class="col">
                    <input type="text" id="name" name="username" placeholder="Name" required>
                </div>
                <div class="col">
                    <input type="email" id="email" name="email" placeholder="Email" required>
                </div>
                <div class="col">
                    <input type="password" id="password" name="password" placeholder="Password" required>
                    <div id="strength" class="password-strength"></div>
                </div>
                <div class="col">
                    <input type="password" id="password-2" name="password-2" placeholder="Confirm Password">
                    <span id="password-match-message" class="pass-warnings"></span>
                </div>
                <div class="col">
                    <button type="submit">SIGN UP</button>
                </div>
                <div class="col">
                    <p>Already have an account? <a href="/login/" id="login-in-anchor-link">Login</a></p>
                </div>
            </form>
            <div class="main-image">
                <img src="./sign-up-images/Join the Reading Revolution-copy.png" alt="" id="main-img">
            </div>
        </div>
    </div>

    <script>
        function checkPasswordStrength() 
        {
            var password = document.getElementById("password").value;
            var strength = document.getElementById("strength");

            // Minimum 8 characters
            if (password.length < 8) {
                strength.className = "password-strength weak";
                return;
            }

            // Contains lowercase, uppercase, numbers, and optional special characters
            var regex = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\d).+$/;
            if (!regex.test(password)) {
                strength.className = "password-strength moderate";
                return;
            }

            strength.className = "password-strength very-strong";
        }
        function checkPasswordsMatch() 
        {
            var password1 = document.getElementById("password").value;
            var password2 = document.getElementById("password-2").value;
            var matchMessage = document.getElementById("password-match-message");

            if (password1 !== password2) {
                matchMessage.textContent = "Passwords do not match";
            } else {
                matchMessage.textContent = "";
            }
        }       

        function updatePasswordMessage() 
        {
            checkPasswordStrength();
            checkPasswordsMatch();
        }

        // Call updatePasswordMessage on keyup events for both password fields
        document.getElementById("password").addEventListener("keyup", updatePasswordMessage);
        document.getElementById("password-2").addEventListener("keyup", updatePasswordMessage);       

    </script>
</body>
</html>
